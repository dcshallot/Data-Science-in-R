---
[couseraæ•°æ®ç§‘å­¦]R Programming
---

## ç¬¬ä¸€è¯? åŸºç¡€ç¯?
1.Rçš„å¯¹è±¡ç§ç±»ï¼ˆåŸå­çº§ï¼Œåªæœ‰è¿™å‡ ç§ï¼‰ï¼Œå¯¹ä¸€é—¨è¯­è¨€æ¥è¯´ï¼Œæ•°æ®ç±»å‹æ˜¯éœ€è¦é¦–å…ˆææ˜ç™½çš„character
numeric
interger--è¿™ç©æ„ä¼šè·Ÿnumericæ··æ·†ï¼Œä¸€èˆ¬è®¤ä¸ºè¦as.numericä¸€ä¸‹æ‰å¥½ï¼Œä¸ºä»€ä¹ˆä¸çŸ¥é“ã€‚è¿™ç©æ„åé¢è·Ÿä¸ªL
complex-- å¤æ•°ï¼Œä¸€èˆ¬æˆ‘ç”¨ä¸ç€
logical --é€»è¾‘

2.å…³äºnumbers
Inf æ˜¯å¯ä»¥è¿ç®—çš„ï¼?1/0 =Inf, 1/Inf =0, æ­¤å¤–è¿˜æœ‰-Infçš„å­˜åœ?
NaN è¡¨ç¤ºundefined valueï¼Œâ€ä¸æ˜¯ä¸€ä¸ªæ•°å­—â€œï¼Œæ¯”å¦‚0/0ï¼Œæˆ–è€…ç¼ºå¤±å€¼ï¼Œä½†æ˜¯è¿™ç©æ„ä¸åŒäºna
(http://www.cookbook-r.com/Basics/Working_with_NULL_NA_and_NaN/)


3.å±æ€§attributesï¼Œä¸æ˜¯æ‰€æœ‰çš„objectéƒ½æœ‰å…¨éƒ¨çš„å±æ€§å“ˆ
names --nameså‘é‡ï¼Œrow.names,col.namesæ•°æ®æ¡? ï¼Œrownames, colnamesçŸ©é˜µï¼Œdimnames,çŸ©é˜µ 
dimensions ( çŸ©é˜µï¼Œæ•°ç»„ï¼‰
class --è¿™ä¸ªè°éƒ½æœ?
length
ä»¥ä¸Šè¿™äº›ç”¨attributesï¼ˆï¼‰æŸ¥çœ‹
4.Fatorsï¼Œå­˜æˆintegerï¼Œæœ‰labelã€‚factoræ¯”integeræ›´å¥½æ‡‚ï¼ˆæœ‰label),æ¯”characterå­˜å‚¨æ›´çœç©ºé—´
factor ( vector, levels=c(") )

5.Missing values
NaN æœªå®šä¹‰çš„æ•°å­¦è®¡ç®—ç»“æœï¼Œæœ¬èº«ä¹Ÿæ˜¯Na
Na æ›´å…¨ï¼Œinteger, character,ç±»å‹éƒ½æœ‰
Naä¸èƒ½ç”? ==åˆ¤æ–­ï¼Œè€Œè¦ç”¨is.naï¼Œå› ä¸ºå®ƒä¸æ˜¯ä¸€ä¸ªçœŸå®çš„å€¼ï¼Œåªæ˜¯ä¸€ä¸ªplaceholderã€‚ã€‚ã€?

6.Subsetting Lists
```{r}
x <- list( foo=1:4, bar = 0.6 ) ;
class( x[1] ) 
class(  x[[1]] ) # å•å±‚å¼•listï¼ŒåŒå±‚å¼•å†…å®¹
class( x$foo ) # 
```

Nestedçš„æƒ…å†µï¼š
```{r}
x <- list( a =list(10,12,14), b=c(3.14, 2.81))x[[c(1,3)]]
x[[1]][[3]]
x[[c(2,1)]]
```

7.è¯»å–æ•°æ®
read.table/ read.csv
readLines, è¯»å–txtæ–‡ä»¶ï¼Œé€šå¸¸æ”¯æŒå¤§æ–‡ä»¶çš„è¯»å…¥ï¼ŒRstudioä¸Šå¯¼å…¥csv/txtçš„åŠŸèƒ½ä»£ç ä¹Ÿæ˜¯è¿™ä¸?
source  è¯»å–Rä»£ç 
dget åŒä¸Šï¼Œæ²¡ç”¨è¿‡
load è¯»å–ä¿å­˜å¥½çš„å·¥ä½œç¯å¢ƒ workspacesï¼Œä¸€èˆ¬æ¥è¯´ï¼ŒåŸå§‹æ•°æ®æ¯”è¾ƒå¤§ï¼Œæˆ‘å–œæ¬¢å¤„ç†å¥½ä¹‹åå­˜æˆworkspacesï¼Œå†åšçš„æ—¶å€™è¯»è¿™ä¸ª
unserialize è¯»å–äºŒè¿›åˆ¶çš„Rå¯¹è±¡ï¼Œè¿™å¹²å•¥çš„ï¼Ÿ

8.è¯»å–å¤§æ•°æ®é›†ï¼šå†…å­?/æ“ä½œç³»ç»Ÿ
1,500,000 * 120 æ•°æ®ï¼Œæ¯ä¸ªå•å…?8 bytes =...= 1.34GBå†…å­˜éœ€æ±?
äº‹å®ä¸Šå¦‚æœè¦åšè¿ç®—è¿˜è¦å¤§ä¸€äº›ï¼Œå»ºè®®å†…å­˜æ˜¯æ•°æ®é‡çš?3å€?


## ç¬¬äºŒè¯? ç»“æ„æ§åˆ¶,å‡½æ•°ï¼?

1.æ§åˆ¶ç»“æ„
if, else 
for å›ºå®šæ•°ç›®çš„å¾ªç?
while ä¾ç…§æ¡ä»¶å¾ªç¯
repeat æ— æ¡ä»¶é‡å¤?
break åœæ­¢
next è·³è¿‡ä¸€éƒ?
return è¿”å›å€?

2.if
if () {} else {} / ifelse(  , , )
if () { } else if () { } else if () { } ... else { }

3.for
```{r}
for ( i in 1:10 ) { print (i )}
for ( i in seq_along( names(iris)) ) { print( names(iris)[i])  } 
#seq_alongå‡½æ•°æœ‰æ„æ€ï¼Œå®ƒæ˜¯seqçš„å­å‡½æ•°
```

4. Coding Standards
Indent your code : ä»£ç è¦æœ‰é—´éš”ï¼Œå°½é‡åœ¨å‡½æ•°ä¹‹é—´åˆ†å¼€
Limit the width of your code 80ï¼? columns : æ¯è¡Œä¸è¶…è¿?80ï¼Ÿå­—
æ­¤å¤–ï¼Œå…³äºä»£ç å¯è¯»æ€§ï¼Œæ¨èå¤§ä½œä¸€ç¯‡ï¼Œbyæ€å–†å¤?
http://www.bjt.name/2010/11/google-r-code-style/

5. Scoping Rules of R
Rçš„namespaces å¯¹å‡½æ•°å’Œéå‡½æ•°æ˜¯éš”ç¦»å¼€çš„ï¼Œæ‰€æœ‰å¯èƒ½åŒæ—¶å­˜åœ¨ä¸€ä¸ªå¯¹è±¡å«Lmï¼Œè¿˜æœ‰ä¸€ä¸ªå‡½æ•°ä¹Ÿå«lm
Rä½¿ç”¨çš„æ˜¯Lexical Scopingï¼ˆè¯æ³•åŸŸï¼‰ï¼Œä¸åŒäºDynamic Scoping
ç›¸å…³èµ„æ–™ï¼?
åœ¨è¯æ³•ä½œç”¨åŸŸçš„ç¯å¢ƒä¸­ï¼Œå˜é‡çš„ä½œç”¨åŸŸä¸å…¶åœ¨ä»£ç ä¸­æ‰€å¤„çš„ä½ç½®æœ‰å…³ã€‚ç”±äºä»£ç å¯ä»¥é™æ€å†³å®šï¼ˆè¿è¡Œå‰å°±å¯ä»¥å†³å®šï¼‰ï¼Œæ‰€ä»¥å˜é‡çš„ä½œç”¨åŸŸä¹Ÿå¯ä»¥è¢«é™æ€å†³å®šï¼Œå› æ­¤ä¹Ÿå°†è¯¥ä½œç”¨åŸŸç§°ä¸ºé™æ€ä½œç”¨åŸŸã€‚åœ¨åŠ¨æ€ä½œç”¨åŸŸçš„ç¯å¢ƒä¸­ï¼Œå˜é‡çš„ä½œç”¨åŸŸä¸ä»£ç çš„æ‰§è¡Œé¡ºåºæœ‰å…³ã€?
è¯æ³•ä½œç”¨åŸŸå…è®¸ç¨‹åºå‘˜æ ¹æ®ç®€å•çš„åç§°æ›¿æ¢å°±èƒ½æ¨å¯¼å‡ºå¯¹è±¡å¼•ç”¨ï¼Œä¾‹å¦‚å¸¸é‡ã€å‚æ•°ã€å‡½æ•°ç­‰ã€‚è¿™ä½¿å¾—ç¨‹åºå‘˜åœ¨ç¼–å†™æ¨¡å—åŒ–çš„ä»£ç æ˜¯å¤šä¹ˆçš„å¾—å¿ƒåº”æ‰‹ã€‚åŒæ—¶ï¼Œè¿™å¯èƒ½ä¹Ÿæ˜¯åŠ¨æ€ä½œç”¨åŸŸä»¤äººæ„Ÿè§‰åˆ°æ™¦æ¶©çš„åŸå› ä¹‹ä¸€ã€?

å‡½æ•°å¯ä»¥è¿”å›å‡½æ•°ï¼?
```{r}
make.power <- function(n) {
  pow <- function(x) {
     x^n
  }
  pow
}

cube <- make.power(3)
square <- make.power(2)
cube(3)
square(2)

```

Rä½¿ç”¨è¯æ³•ä½œç”¨åŸŸçš„ç»“æœï¼?
æ‰€æœ‰å¯¹è±¡éƒ½è¦åœ¨å†…å­˜é‡Œï¼ˆ python ä¹Ÿæ˜¯å—ï¼Ÿ)â€”â€”æœ€å¤§çš„è¯Ÿç—…
å…¶ä»–ä¸¤ä¸ªæ²¡æ‡‚==

6.å‘é‡åŒ–è¿ç®—ç®€ä»?
```{r}
x <- 1:4; y<- 6:9
x*y
x %*% y
```

7.æ—¶é—´å’Œæ—¥æœ?
æ—¥æœŸçš„classæ˜¯date
æ—¶é—´çš„classæœ‰ä¸¤ç§? POSIXct(æ•´æ•°)å’ŒPOSIXlt(listå«day of weekç­?)
ä»?1970-01-01å¼€å§‹è®¡ç®?
```{r}
x <- as.Date("1970-01-01") #æ—¥æœŸ
x
unclass(x)

x <- Sys.time() #æ—¶é—´
x
p <- as.POSIXlt(x)
names( unclass(p))
```

æ¨ä»‹striptimeå‡½æ•°ï¼šæŠŠä¸è§„èŒƒçš„å­—ç¬¦è½¬åŒ–æˆæ—¥æœŸæ—¶é—´çš„åˆ©å™¨ï¼Œå‚æ•°ä¸ç”¨è®°ï¼Œçœ‹å¸®åŠ©å°±å¥½äº†~

